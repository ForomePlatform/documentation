

<!doctype html>

<html lang="English">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>ds_stat &#8212; Anfisa Development&amp;Installation Documentation v.0.7 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bizstyle.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="statunits" href="statunits.html" />
    <link rel="prev" title="solutions" href="solutions.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="statunits.html" title="statunits"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="solutions.html" title="solutions"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Anfisa Development&amp;Installation Documentation v.0.7 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Anfisa REST API</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">ds_stat</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="ds-stat">
<h1>ds_stat<a class="headerlink" href="#ds-stat" title="Permalink to this heading">¶</a></h1>
<blockquote>
<div><p><strong>Filtering regime support</strong></p>
</div></blockquote>
<section id="synopsis">
<span id="index-0"></span><h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this heading">¶</a></h2>
<p><strong>ds_stat</strong></p>
<blockquote>
<div><p><strong>Arguments</strong>:</p>
<blockquote>
<div><p><strong>ds</strong>: dataset name</p>
<p><strong>tm</strong>: <em>optional</em> time delay control option, in seconds, <em>float</em></p>
<p><strong>filter</strong>: <em>optional</em> name of applying filter</p>
<dl class="simple">
<dt><strong>conditions</strong>: <em>optional</em> list of applying <a class="reference internal" href="s_condition.html"><span class="doc">condition descriptors</span></a></dt><dd><p><em>in JSON string representation</em></p>
</dd>
<dt><strong>ctx</strong>: <em>optional</em>, <a class="reference internal" href="s_stat_ctx.html"><span class="doc">context descriptor</span></a></dt><dd><p><em>in JSON string representation</em></p>
</dd>
<dt><strong>actsym</strong>: <em>optional</em>, add gene symbols from filter to <a class="reference internal" href="../concepts/variety.html#actsym-purpose"><span class="std std-ref">active symbols</span></a></dt><dd><p><em>recommended in form</em> <code class="docutils literal notranslate"><span class="pre">actsym=1</span></code></p>
</dd>
</dl>
<p><strong>instr</strong>: <em>optional modifier</em></p>
</div></blockquote>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[</span></code></div>
<div class="line-block">
<div class="line"><strong>[0]</strong>: option, <code class="docutils literal notranslate"><span class="pre">&quot;UPDATE&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;DELETE&quot;</span></code> <em>or</em> <code class="docutils literal notranslate"><span class="pre">&quot;JOIN&quot;</span></code></div>
<div class="line"><strong>[1]</strong>: filter name, <em>string</em></div>
<div class="line"><strong>[2]</strong>: rubric, in case of <code class="docutils literal notranslate"><span class="pre">&quot;UPDATE&quot;</span></code> option,  <em>optional string</em></div>
<div class="line-block">
<div class="line"><em>position [2] is optional and can be omited</em></div>
</div>
</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">]</span></code> <em>in JSON string representation</em></div>
</div>
<p><strong>Return value</strong>:</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">{</span></code> <em>dictionary</em></div>
<div class="line-block">
<div class="line-block">
<div class="line">&quot;<strong>kind</strong>&quot;: kind of dataset, <code class="docutils literal notranslate"><span class="pre">&quot;ws&quot;</span></code> <em>or</em> <code class="docutils literal notranslate"><span class="pre">&quot;xl&quot;</span></code></div>
<div class="line">&quot;<strong>total-counts</strong>&quot;: count of items in dataset</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[</span></code> <em>list*</em></div>
<div class="line-block">
<div class="line"><strong>[0]</strong> count of DNA variants, <em>int</em></div>
<div class="line"><strong>[1]</strong> <em>optional</em> count of transcript variants, <em>int</em></div>
<div class="line"><strong>[2]</strong> <em>optional</em> count of transcripts, <em>int</em></div>
</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">]</span></code></div>
</div>
<div class="line">&quot;<strong>filtered-counts</strong>&quot;: count of items filtered</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[</span></code> <em>list*</em></div>
<div class="line-block">
<div class="line"><strong>[0]</strong> count of variants, <em>int</em></div>
<div class="line"><strong>[1]</strong> <em>optional</em> count of transcript variants, <em>int</em></div>
<div class="line"><strong>[2]</strong> <em>optional</em> count of transcripts, <em>int</em></div>
</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">]</span></code></div>
</div>
<div class="line">&quot;<strong>stat-list</strong>&quot;: <code class="docutils literal notranslate"><span class="pre">[</span></code> <em>list of</em> <a class="reference internal" href="s_prop_stat.html"><span class="doc">Property Status structure</span></a> <code class="docutils literal notranslate"><span class="pre">]</span></code></div>
<div class="line">&quot;<strong>functions</strong>&quot;: <code class="docutils literal notranslate"><span class="pre">[</span></code> <em>list of</em> <a class="reference internal" href="s_prop_stat.html"><span class="doc">Property Status structure</span></a> for functions <code class="docutils literal notranslate"><span class="pre">]</span></code></div>
<div class="line">&quot;<strong>cur-filter</strong>: <em>optional</em> name of current filter, <em>string</em></div>
<div class="line">&quot;<strong>conditions</strong>:  <code class="docutils literal notranslate"><span class="pre">[</span></code> <em>list of</em> <a class="reference internal" href="s_condition.html"><span class="doc">Condition descriptor</span></a> <code class="docutils literal notranslate"><span class="pre">]</span></code></div>
<div class="line">&quot;<strong>cond-seq</strong>: render information for conditions</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[</span></code> <em>list</em></div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">{</span></code> <em>dictionary</em></div>
<div class="line-block">
<div class="line">&quot;<strong>repr</strong>&quot;: condition HTML-representation, <em>string</em></div>
<div class="line">&quot;<strong>err</strong>: <em>optional</em> error status, <em>string</em></div>
<div class="line">&quot;<strong>unit</strong>&quot;: <em>optional</em> name of base condition property, <em>string</em></div>
</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">}</span></code>, ...</div>
</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">]</span></code></div>
</div>
<div class="line">&quot;<strong>eval-status</strong>&quot;: status of current conditions evaluation</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">&quot;ok&quot;</span></code> if evaluation is correct, other <em>string</em> otherwise</div>
</div>
<div class="line"><strong>hash</strong>: hash code associated with current filter conditions, <em>string</em></div>
<div class="line"><strong>filter-list</strong>: names of all filters available for dataset</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[</span></code> <em>list of</em> <a class="reference internal" href="s_sol_entry.html"><span class="doc">Solution Entry descriptor</span></a> <code class="docutils literal notranslate"><span class="pre">]</span></code></div>
</div>
<div class="line"><strong>filter-sol-version</strong>: <a class="reference internal" href="../concepts/sol_work.html#sol-version-indicators"><span class="std std-ref">indicator of state</span></a> for filters</div>
<div class="line"><strong>rq_id</strong>&quot;: unique request id, for use in secondary requests, <em>string</em></div>
</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">}</span></code></div>
</div>
</div>
</div></blockquote>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>The request is the principal one for organizing <a class="reference internal" href="../glossary.html#term-Filter"><span class="xref std std-term">filtering regime</span></a> for <a class="reference internal" href="../glossary.html#term-Dataset"><span class="xref std std-term">datasets</span></a>.</p>
<p>The most important functionality initiated by this method is <a class="reference internal" href="../concepts/status_report.html"><span class="doc">Status report mechanism (with delays)</span></a>, see there explanations of input argument <strong>tm</strong> and returning properties <strong>stat-list</strong>, <strong>functions</strong>, <strong>rq-id</strong></p>
<p>The rest of information returning by the request concerns filters as <a class="reference internal" href="../concepts/sol_work.html"><span class="doc">Solution items in work</span></a>.</p>
<p>Current conditions/filter define <a class="reference internal" href="../glossary.html#term-Filter"><span class="xref std std-term">filter</span></a> if either <strong>filter</strong> or <strong>conditions</strong> is set (see discussion <a class="reference internal" href="../concepts/sol_work.html#fiter-conditions"><span class="std std-ref">here</span></a>).
Otherwise (and also if <strong>conditions</strong> is set as empty list) the full dataset is subject of request.</p>
<p>Returning property <strong>cur-filter</strong> is not null if current conditions are stored on the server side as filter with correspondent filter name. (Property <strong>hash</strong> contains hash of current conditions)</p>
<p>Returning property <strong>conditions</strong> contains conditions in operational format(<a class="reference internal" href="s_condition.html"><span class="doc">Condition descriptor</span></a>). But for rendering needs the request returns additionally the list <strong>cond-seq</strong> and status <strong>eval-status</strong>. In most common scenario conditions are correct and can be evaluated property, however there might be errors, and information about these errors should be used by the client. Please pay attention at property <strong>unit</strong> in <strong>cond-seq</strong> list: usually it is equal to  value of second element ([1]) of correspondent condition from <strong>conditions</strong>. But existence of <strong>unit</strong> property guarantees that condition has no errors.</p>
<p>Returning properties <strong>total-counts</strong> and <strong>filter-counts</strong> have length of 3 in case of <a class="reference internal" href="../glossary.html#term-Workspace"><span class="xref std std-term">workspaces</span></a> and length of 1 otherwise. Second position in lists correspond to counts of <a class="reference internal" href="../glossary.html#term-Transcript-variant"><span class="xref std std-term">transcript variants</span></a> and <a class="reference internal" href="../glossary.html#term-Transcript"><span class="xref std std-term">transcripts</span></a>.</p>
<section id="modification-of-filters">
<h3>Modification of filters<a class="headerlink" href="#modification-of-filters" title="Permalink to this heading">¶</a></h3>
<p>If argument <strong>instr</strong> is set, the request modifies filter on server side in the following cases:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[&quot;UPDATE&quot;,</span> <span class="pre">&lt;filter_name&gt;,</span> <span class="pre">&lt;rubric&gt;]</span></code> the value of argument <strong>conditions</strong> are interpreted as new content of filter <code class="docutils literal notranslate"><span class="pre">filter_name</span></code>, use this option for both create or update filter</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[&quot;UPDATE&quot;,</span> <span class="pre">&lt;filter_name&gt;]</span></code> the same as previous, with no rubric change</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[&quot;DELETE&quot;,</span> <span class="pre">&lt;filter_name&gt;]</span></code> the filter <code class="docutils literal notranslate"><span class="pre">filter_name</span></code> is subject to be deleted.</p></li>
</ul>
</div></blockquote>
<p>In case <code class="docutils literal notranslate"><span class="pre">[&quot;JOIN&quot;,</span> <span class="pre">&lt;filter_name&gt;]</span></code> the request modifies current condiitons collected from <strong>conditions</strong> or <strong>filter</strong> by joining them with content of named filter <code class="docutils literal notranslate"><span class="pre">filter_name</span></code>.</p>
<p>See also <a class="reference internal" href="../concepts/sol_work.html"><span class="doc">Solution items in work</span></a></p>
</section>
</section>
<section id="comments">
<h2>Comments<a class="headerlink" href="#comments" title="Permalink to this heading">¶</a></h2>
<p>The request has simple analogue <a class="reference internal" href="dtree_stat.html"><span class="doc">dtree_stat</span></a>: both methods initiate <a class="reference internal" href="../concepts/status_report.html"><span class="doc">Status report mechanism (with delays)</span></a>.</p>
<p>Also the request has analogue <a class="reference internal" href="dtree_set.html"><span class="doc">dtree_set</span></a>: both methods support its main objects as <a class="reference internal" href="../concepts/sol_work.html"><span class="doc">Solution items in work</span></a>, this request does it for <a class="reference internal" href="../glossary.html#term-Filter"><span class="xref std std-term">filters</span></a>, decision tree request for <a class="reference internal" href="../glossary.html#term-Decision-tree"><span class="xref std std-term">decision trees</span></a>.</p>
</section>
<section id="see-also">
<h2>See also<a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h2>
<p><a class="reference internal" href="statunits.html"><span class="doc">statunits</span></a></p>
<p><a class="reference internal" href="statfunc.html"><span class="doc">statfunc</span></a></p>
<p><a class="reference internal" href="../concepts/status_report.html"><span class="doc">Status report mechanism (with delays)</span></a></p>
<p><a class="reference internal" href="../concepts/sol_work.html"><span class="doc">Solution items in work</span></a></p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">ds_stat</a><ul>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#description">Description</a><ul>
<li><a class="reference internal" href="#modification-of-filters">Modification of filters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#comments">Comments</a></li>
<li><a class="reference internal" href="#see-also">See also</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="solutions.html"
                          title="previous chapter">solutions</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="statunits.html"
                          title="next chapter">statunits</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/rest/ds_stat.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="statunits.html" title="statunits"
             >next</a> |</li>
        <li class="right" >
          <a href="solutions.html" title="solutions"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Anfisa Development&amp;Installation Documentation v.0.7 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Anfisa REST API</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">ds_stat</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Copyright (c) 2019-2022. Partners HealthCare and other members of Forome Association.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.1.1.
    </div>
  </body>
</html>