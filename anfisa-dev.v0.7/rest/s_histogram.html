

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Histogram descriptor for numeric fields &#8212; Anfisa Development&amp;Installation Documentation v.0.7 documentation</title>
    <link rel="stylesheet" href="../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Filtering functions" href="func_ref.html" />
    <link rel="prev" title="Tags descriptor" href="s_tags.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="func_ref.html" title="Filtering functions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="s_tags.html" title="Tags descriptor"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Anfisa Development&amp;Installation Documentation v.0.7 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Anfisa REST API</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Histogram descriptor for numeric fields</a><ul>
<li><a class="reference internal" href="#format">Format</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="s_tags.html"
                        title="previous chapter">Tags descriptor</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="func_ref.html"
                        title="next chapter">Filtering functions</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/rest/s_histogram.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="histogram-descriptor-for-numeric-fields">
<h1>Histogram descriptor for numeric fields<a class="headerlink" href="#histogram-descriptor-for-numeric-fields" title="Permalink to this headline">¶</a></h1>
<div class="section" id="format">
<span id="index-0"></span><h2>Format<a class="headerlink" href="#format" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[</span></code></div>
<div class="line-block">
<div class="line"><strong>[0]</strong>: histogram type: <code class="docutils literal notranslate"><span class="pre">&quot;LIN&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;LOG&quot;</span></code></div>
<div class="line"><strong>[1]</strong>: minimal bound, <em>numeric</em></div>
<div class="line"><strong>[2]</strong>: maximal bound, <em>numeric</em></div>
<div class="line"><strong>[3]</strong>: <em>list of numeric</em> counts</div>
</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">]</span></code></div>
</div>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Histogram is evaluated for any numeric field as a part of <a class="reference internal" href="s_prop_stat.html"><span class="doc">Property Status structure</span></a>. The structure is optional: it is replaced by null if there is no meaningful histogram in evaluation.</p>
<p>The meaning of histogram: diapason of values is split onto series of intervals, and the integer count for interval corresponds to counts of values that are located in this interval. In case of <a class="reference internal" href="../glossary.html#term-xl-dataset"><span class="xref std std-term">XL-datasets</span></a> histograms are some approximation of strict values distribution, so this value can be not an integer but float.</p>
<p>In a generic case, histogram splits interval of values onto 10 intervals (count of “bins”): 8 intermediate are of “equal length”, and two sided are “infinite” .</p>
<p>By definition, sum of counts in list equals (in case of <a class="reference internal" href="../glossary.html#term-xl-dataset"><span class="xref std std-term">XL-datasets</span></a> approximately) to count of records in selected set of <a class="reference internal" href="../glossary.html#term-variant"><span class="xref std std-term">variants</span></a>, see <a class="reference internal" href="../concepts/ws_pg.html"><span class="doc">Workspace page</span></a> for details).</p>
<p>Features of histogram for a <a class="reference internal" href="../glossary.html#term-numeric-property"><span class="xref std std-term">numeric property</span></a> depends on settings for this property:</p>
<blockquote>
<div><ul class="simple">
<li>if this property has either “logarithmic” or “linear” meaning: <code class="docutils literal notranslate"><span class="pre">&quot;LOG&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;LIN&quot;</span></code> mode is used</li>
<li>if this property is based on either integer or or float type, it determines details of histogram evaluation</li>
</ul>
</div></blockquote>
<ul>
<li><p class="first">In case of <code class="docutils literal notranslate"><span class="pre">&quot;LIN&quot;</span></code> mode, linear scale for values is used:</p>
<blockquote>
<div><ul class="simple">
<li>Minimal and maximal bounds are equal to minimal and maximal values in <a class="reference internal" href="s_prop_stat.html"><span class="doc">Property Status structure</span></a></li>
<li>All intermediate intervals of histogram have equal width</li>
<li>Histogram can be short in case of integer field and low difference between minimal and maximal bounds</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">In case of <code class="docutils literal notranslate"><span class="pre">&quot;LOG&quot;</span></code> mode, base-10 logarithmic scale is used:</p>
<blockquote>
<div><ul class="simple">
<li>Minimal and maximal bounds in descriptor are integers and have meaning of 10-power for field values: power bound <em>p</em> corresponds to interval [10<sup>p</sup>, 10<sup>p+1</sup>)</li>
<li>Any intermediate (and upper final) interval counts values with the same integer power of 10:</li>
</ul>
<div class="line-block">
<div class="line">0: [1, 10),  2: [100, 1000), -2: [.01, .1), etc.</div>
</div>
<ul class="simple">
<li>Histogram is not evaluated (set to null) if there is only one interval in it</li>
<li>In pure mathematical interpretation there is no place for “too low values” in the logarithmic scale: for 0 or even -1 values. But the data does contain these values, so the first low count on the histogram registers all these exceptional values below 10<sup>p+1</sup> where <em>p</em> is low power bound of histogram.</li>
<li>Presence of exceptional, “too low” values is an important issue for the final user understanding of histogram, so it should be visible in the User Interface. This presence can be detected by comparison of the low bound of values from <a class="reference internal" href="s_prop_stat.html"><span class="doc">Property Status structure</span></a> with 10<sup>p</sup>, where <em>p</em> is low power bound in histogram descriptor(<strong>[1]</strong>, second item in the descriptor).</li>
<li>In case of integer field the low power bound can be -1, it means that exceptional “too low” values happen. Otherwise low power bound is 0 or more.</li>
<li>In case of float field,  exceptional “too low” value is any one lower than 10<sup>-15</sup>, and in case of presence of these values the low power bound is set to -16. It is common in this case that histogram count list starts with positive first count and then a series of zero counts follows. The User Interface can visualize somehow count of exceptional values, mark them as exceptional, and ignore visualization of the following zeros.</li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="func_ref.html" title="Filtering functions"
             >next</a> |</li>
        <li class="right" >
          <a href="s_tags.html" title="Tags descriptor"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Anfisa Development&amp;Installation Documentation v.0.7 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Anfisa REST API</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Copyright (c) 2019-2022. Partners HealthCare and other members of Forome Association.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.4.
    </div>
  </body>
</html>