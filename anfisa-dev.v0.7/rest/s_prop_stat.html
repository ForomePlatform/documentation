

<!doctype html>

<html lang="English">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Property Status structure &#8212; Anfisa Development&amp;Installation Documentation v.0.7 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bizstyle.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Decision Tree Point descriptor" href="s_dtree_point.html" />
    <link rel="prev" title="Condition descriptor" href="s_condition.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="s_dtree_point.html" title="Decision Tree Point descriptor"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="s_condition.html" title="Condition descriptor"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Anfisa Development&amp;Installation Documentation v.0.7 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Anfisa REST API</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Property Status structure</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="property-status-structure">
<h1>Property Status structure<a class="headerlink" href="#property-status-structure" title="Permalink to this heading">¶</a></h1>
<section id="format">
<span id="index-0"></span><h2>Format<a class="headerlink" href="#format" title="Permalink to this heading">¶</a></h2>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">{</span></code> <em>dictionary</em>,</div>
<div class="line-block">
<div class="line">&quot;<strong>name</strong>&quot;: property name, <em>string</em></div>
<div class="line">&quot;<strong>kind</strong>&quot;: property kind, <code class="docutils literal notranslate"><span class="pre">&quot;numeric&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;enum&quot;</span></code> <em>or</em> <code class="docutils literal notranslate"><span class="pre">&quot;func&quot;</span></code></div>
<div class="line">&quot;<strong>vgroup</strong>&quot;: group of property, <em>string</em></div>
<div class="line">&quot;<strong>title</strong>&quot;: <em>optional</em> title, <em>string</em></div>
<div class="line">&quot;<strong>sub-kind</strong>&quot;: <em>optional</em> sub-kind, <em>string</em></div>
<div class="line">&quot;<strong>render-mode</strong>&quot;: <em>optional</em></div>
<div class="line-block">
<div class="line">comma-separated render options, <em>string</em></div>
</div>
<div class="line">&quot;<strong>tooltip</strong>&quot;: <em>optional</em> tooltip, <em>string</em></div>
<div class="line">&quot;<strong>incomplete</strong>&quot;: <em>optional</em> status is incomplete, <code class="docutils literal notranslate"><span class="pre">true</span></code></div>
<div class="line">&quot;<strong>detailed</strong>&quot;: <em>optional</em> transcript data is in counts, <code class="docutils literal notranslate"><span class="pre">true</span></code></div>
<div class="line">&quot;<strong>classes</strong>: <a class="reference internal" href="../concepts/prop_ux.html#properties-classification"><span class="std std-ref">classification of the property</span></a>,</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[</span></code> <em>list of integers</em> facet descriptors <code class="docutils literal notranslate"><span class="pre">]</span></code></div>
<div class="line"><br /></div>
</div>
<div class="line"><em>in case of</em> <strong>kind</strong> = <code class="docutils literal notranslate"><span class="pre">&quot;numeric&quot;</span></code></div>
<div class="line">-----------------------------------</div>
<div class="line">&quot;<strong>min</strong>&quot;: <em>optional</em> minimum value, <em>int or float</em></div>
<div class="line">&quot;<strong>max</strong>&quot;: <em>optional</em> maximum value, <em>int or float</em></div>
<div class="line">&quot;<strong>counts</strong>&quot;: <em>optional</em></div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[</span></code> <em>list</em></div>
<div class="line-block">
<div class="line"><strong>[0]</strong>: count of variants (transcipt if detailed, DNA otherwise), <em>int</em></div>
<div class="line"><strong>[1]</strong>: <em>optional</em> (if detailed) count of DNA variants, <em>int</em></div>
<div class="line"><strong>[2]</strong>: <em>optional</em> (if detailed) count of transcripts, <em>int</em></div>
</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">]</span></code></div>
</div>
<div class="line">&quot;<strong>histogram</strong>: <em>optional</em>, <a class="reference internal" href="s_histogram.html"><span class="doc">Histogram descriptor for numeric fields</span></a></div>
<div class="line"><br /></div>
<div class="line"><em>in case of</em> <strong>kind</strong> = <code class="docutils literal notranslate"><span class="pre">&quot;enum&quot;</span></code></div>
<div class="line">-----------------------------------</div>
<div class="line">&quot;<strong>variants</strong>&quot;:  <em>optional</em> <code class="docutils literal notranslate"><span class="pre">[</span></code> values status <em>list</em></div>
<div class="line-block">
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[</span></code> <em>list</em></div>
<div class="line-block">
<div class="line"><strong>[0]</strong>: value, <em>string</em></div>
<div class="line"><strong>[1]</strong>: count of variants (transcipt if detailed, DNA otherwise), <em>int</em></div>
<div class="line"><strong>[2]</strong>: <em>optional</em> (if detailed) count of DNA variants, <em>int</em></div>
<div class="line"><strong>[3]</strong>: <em>optional</em> (if detailed) count of transcripts, <em>int</em></div>
</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">]</span></code>, ...  <code class="docutils literal notranslate"><span class="pre">]</span></code></div>
<div class="line"><br /></div>
</div>
<div class="line"><em>additional fields for variety property</em></div>
<div class="line-block">
<div class="line">--------------------------------------</div>
</div>
<div class="line">&quot;<strong>panel-name</strong>&quot;: <em>string</em> name of dual panel unit</div>
<div class="line">&quot;<strong>panels</strong>&quot;:</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[</span></code> <em>list of variants</em> for panel unit <code class="docutils literal notranslate"><span class="pre">]</span></code></div>
</div>
<div class="line">&quot;<strong>split-info</strong>&quot;:</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[</span></code></div>
<div class="line-block">
<div class="line"><em>list of descriptors</em> of blocks of variants, see below</div>
</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">]</span></code></div>
</div>
<div class="line">&quot;<strong>rest-count</strong>&quot;: <em>optional int</em>, count of rest hidden present property variants</div>
<div class="line"><br /></div>
<div class="line"><em>additional fields for variety property</em></div>
<div class="line-block">
<div class="line">--------------------------------------</div>
</div>
<div class="line">&quot;<strong>variety-name</strong>&quot;: <em>string</em> name of dual variety unit</div>
<div class="line">&quot;<strong>panel-sol-version</strong>&quot;: <a class="reference internal" href="../concepts/sol_work.html#sol-version-indicators"><span class="std std-ref">indicator of state</span></a> for panels</div>
<div class="line"><br /></div>
</div>
<div class="line"><em>in case of</em> <strong>kind</strong> = <code class="docutils literal notranslate"><span class="pre">&quot;func&quot;</span></code></div>
<div class="line">-----------------------------------</div>
<div class="line">&quot;<strong>variants</strong>&quot;:  <code class="docutils literal notranslate"><span class="pre">null``*optional*</span> <span class="pre">``[</span></code> values status <em>list</em></div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[</span></code> <em>list</em></div>
<div class="line-block">
<div class="line"><strong>[0]</strong>: value, <em>string</em></div>
<div class="line"><strong>[1]</strong>: count of variants (transcipt if detailed, DNA otherwise), <em>int</em></div>
<div class="line"><strong>[2]</strong>: <em>optional</em> (if detailed) count of DNA variants, <em>int</em></div>
<div class="line"><strong>[3]</strong>: <em>optional</em> (if detailed) count of transcripts, <em>int</em></div>
</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">]</span></code>, ... <code class="docutils literal notranslate"><span class="pre">]</span></code></div>
</div>
<div class="line">&quot;<strong>err</strong>&quot;: <em>optional</em>, error message, <em>string</em></div>
<div class="line">&quot;<strong>rq-id</strong>:  ID of request series</div>
<div class="line">&quot;<strong>no</strong>&quot;: <em>optional</em> position on tree, <em>int as string</em></div>
<div class="line-block">
<div class="line"><strong>...</strong>: function environment</div>
</div>
</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">}</span></code></div>
</div>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>The data structure is used in return values of requests <a class="reference internal" href="ds_stat.html"><span class="doc">ds_stat</span></a>, <a class="reference internal" href="dtree_stat.html"><span class="doc">dtree_stat</span></a>, <a class="reference internal" href="statunits.html"><span class="doc">statunits</span></a> and <a class="reference internal" href="statfunc.html"><span class="doc">statfunc</span></a>. It represents status report for a <a class="reference internal" href="../glossary.html#term-Filtering-property"><span class="xref std std-term">filtering property</span></a> applied to selected set of variants. In case of <a class="reference internal" href="../glossary.html#term-Workspace"><span class="xref std std-term">workspace</span></a> selection also applies to <a class="reference internal" href="../glossary.html#term-Transcript-variant"><span class="xref std std-term">transcript variants</span></a>.</p>
<p>See discussion in <a class="reference internal" href="../concepts/status_report.html"><span class="doc">Status report mechanism (with delays)</span></a> for understanding general principle and details.</p>
<p>See discussion in <a class="reference internal" href="../concepts/prop_ux.html"><span class="doc">UX settings of filtration properties</span></a> for understanding UX settings for filtering properties: <strong>title</strong>, <strong>tooltip</strong>, <strong>classes</strong>, <strong>render-mode</strong>.</p>
<p>In context of requests <a class="reference internal" href="ds_stat.html"><span class="doc">ds_stat</span></a>, <a class="reference internal" href="dtree_stat.html"><span class="doc">dtree_stat</span></a> status report can be incomplete. In this case the property <strong>incomplete</strong> is set and details of status (<strong>min</strong>/<strong>max</strong>/<strong>count</strong> for numeric properties and <strong>variants</strong> for enum ones) do not present in structure.</p>
<p>In complete state details of status are always set. If status reports for filtering properties (of numeric or enum type) is incomplete, use request <a class="reference internal" href="statunits.html"><span class="doc">statunits</span></a> to get them in complete state.</p>
<p>In <strong>detailed</strong> case (<a class="reference internal" href="../glossary.html#term-Workspace"><span class="xref std std-term">workspace</span></a> context) the main items for counting are <a class="reference internal" href="../glossary.html#term-Transcript-variant"><span class="xref std std-term">transcript variants</span></a>, so count values form triplet of values in list, first one is for transcript variants, second for <a class="reference internal" href="../glossary.html#term-DNA-Variant"><span class="xref std std-term">DNA ones</span></a>, and last for <a class="reference internal" href="../glossary.html#term-Transcript"><span class="xref std std-term">transcripts</span></a>.
Otherwise only single DNA variant count is provided in lists.</p>
<p>Property <strong>sub-kind</strong> can have the following values (transcipt-based subkinds are provided only in <a class="reference internal" href="../glossary.html#term-Workspace"><span class="xref std std-term">workspace</span></a> context):</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>kind</strong></p></th>
<th class="head"><p><strong>sub-kind</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;numeric&quot;</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;int&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;float&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;transcript-int&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;transcript-float&quot;</span></code></p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">enum</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;status&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;multi&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;transcript-status&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;transcript-multi&quot;</span></code></p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">func</span></code></p></td>
<td><p><em>type of function</em></p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<section id="variants-for-enumerated-properties">
<h3>Variants for enumerated properties<a class="headerlink" href="#variants-for-enumerated-properties" title="Permalink to this heading">¶</a></h3>
<p>Complete status report for enumerated filtering properties contains counters for all value variants registered in dataset. So in generic case report contains multiple entries with zero counts.</p>
<p>On stage of rendering status report it is reasonable to hide entries with zero counts. Really, there is no need for user to see values that do not present in selection. So in &quot;normal&quot; case they are to be hidden.</p>
<p>But: rendering of status report can be done in context of existing condition, and that condition might refer variants with zero count in current selection. In this case zero count variants should be visible and actual of them should be checked.</p>
<p>Moreover: some variants referred in condition might not be registered in this concrete dataset, and the user does not need to care of that fact. So these variants should be added to list of variants <em>on the client side</em> (with zero counts).</p>
<p>And yet one problem: some variant lists have uncontrolled size. For example, it happens with property <code class="docutils literal notranslate"><span class="pre">Symbol</span></code> in almost any XL-dataset: indeed, tens of thousands known genes can appear in this list! In context of workspace, with no more than 9000 variants, this list is not more than some thousands, it is comparatively good. But even in this case: the user has problems in selection of interested variant in so huge lists.</p>
<p>It is really heavy problem for the current version of the system. In future release there should appear an effective and (probably) complex solution of this problem.</p>
</section>
<section id="variety-panel-properties">
<h3>Variety/panel properties<a class="headerlink" href="#variety-panel-properties" title="Permalink to this heading">¶</a></h3>
<p>Variety and panel properties are enumerated properties with specific behavior discussed <a class="reference internal" href="../concepts/variety.html"><span class="doc">here</span></a>:</p>
<blockquote>
<div><ul>
<li><p><strong>variants</strong> for panel property status structure is always empty, real content of this list contains in dual variety property status structure in the field <strong>panels</strong></p></li>
<li><p><strong>variants</strong> for variety property status structure is joined list of blocks, and <strong>split-info</strong> list describes these blocks in format <code class="docutils literal notranslate"><span class="pre">[</span></code> <em>string</em> block type, <em>int</em> count of variants in block <code class="docutils literal notranslate"><span class="pre">]</span></code>. Block is present only if it is not empty, it contains sorted list of symbols, and there can be up to two blocks in any case:</p>
<blockquote>
<div><ul class="simple">
<li><p>block of type <code class="docutils literal notranslate"><span class="pre">&quot;active&quot;</span></code> represents full statistic for <a class="reference internal" href="../glossary.html#term-Active-symbols"><span class="xref std std-term">active symbols</span></a>, it is the first block, if presents</p></li>
<li><p>block of type <code class="docutils literal notranslate"><span class="pre">&quot;rest&quot;</span></code> represents statistic for all symbol with non-zero statistic that are not active, only if the length of this block is small enough (300 items tn the current version)</p></li>
<li><p>block of type <code class="docutils literal notranslate"><span class="pre">&quot;used&quot;</span></code> represents full statistic for non-active symbol used in applied filter or decision tree, if such symbols exist and if <code class="docutils literal notranslate"><span class="pre">&quot;rest&quot;</span></code> block is absent (i.e. list of rest is too large)</p></li>
<li><p><strong>rest-count</strong> presents in response only if <code class="docutils literal notranslate"><span class="pre">&quot;rest&quot;</span></code> block is absent</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</section>
<section id="functions-support">
<span id="id1"></span><h3>Functions support<a class="headerlink" href="#functions-support" title="Permalink to this heading">¶</a></h3>
<p>For functions property status structure is formed in two different contexts:</p>
<ul>
<li><p>requests <a class="reference internal" href="ds_stat.html"><span class="doc">ds_stat</span></a>, <a class="reference internal" href="dtree_stat.html"><span class="doc">dtree_stat</span></a> just declare placeholders of function in <strong>functions</strong> list, so requests return structure with <code class="docutils literal notranslate"><span class="pre">null</span></code> as <strong>variants</strong> and additional properties of function environment</p></li>
<li><p>request <a class="reference internal" href="statfunc.html"><span class="doc">statfunc</span></a> returns property status with non-optional <strong>variants</strong> or <strong>err</strong> in case of error in evaluation;</p>
<blockquote>
<div><p>the client can send multiple requests of such kind in short period of time, so for purposes of request identification the property status in this case contains also:</p>
<ul class="simple">
<li><p>functional environment: values of all arguments,</p></li>
<li><p>value <strong>rq_id</strong> (and <strong>no</strong> in context of decision tree)</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p>See <a class="reference internal" href="func_ref.html"><span class="doc">Filtering functions</span></a> for details and function reference.</p>
</section>
</section>
<section id="see-also">
<h2>See also<a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h2>
<p><a class="reference internal" href="ds_stat.html"><span class="doc">ds_stat</span></a></p>
<p><a class="reference internal" href="dtree_stat.html"><span class="doc">dtree_stat</span></a></p>
<p><a class="reference internal" href="statunits.html"><span class="doc">statunits</span></a></p>
<p><a class="reference internal" href="statfunc.html"><span class="doc">statfunc</span></a></p>
<p><a class="reference internal" href="../concepts/prop_ux.html"><span class="doc">UX settings of filtration properties</span></a></p>
<p><a class="reference internal" href="../concepts/prop_ux.html"><span class="doc">UX settings of filtration properties</span></a></p>
<p><a class="reference internal" href="../concepts/variety.html"><span class="doc">Variety and panel filtering complex</span></a></p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Property Status structure</a><ul>
<li><a class="reference internal" href="#format">Format</a></li>
<li><a class="reference internal" href="#description">Description</a><ul>
<li><a class="reference internal" href="#variants-for-enumerated-properties">Variants for enumerated properties</a></li>
<li><a class="reference internal" href="#variety-panel-properties">Variety/panel properties</a></li>
<li><a class="reference internal" href="#functions-support">Functions support</a></li>
</ul>
</li>
<li><a class="reference internal" href="#see-also">See also</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="s_condition.html"
                          title="previous chapter">Condition descriptor</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="s_dtree_point.html"
                          title="next chapter">Decision Tree Point descriptor</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/rest/s_prop_stat.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="s_dtree_point.html" title="Decision Tree Point descriptor"
             >next</a> |</li>
        <li class="right" >
          <a href="s_condition.html" title="Condition descriptor"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Anfisa Development&amp;Installation Documentation v.0.7 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Anfisa REST API</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Property Status structure</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Copyright (c) 2019-2022. Partners HealthCare and other members of Forome Association.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.1.1.
    </div>
  </body>
</html>