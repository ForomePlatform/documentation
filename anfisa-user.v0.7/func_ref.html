
<!DOCTYPE html>

<html lang="English">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Filtering functions &#8212; Anfisa User Documentation v.0.7 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/pyramid.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Decision Tree Syntax Reference" href="dtree_syntax.html" />
    <link rel="prev" title="Annotation Sources" href="annotation_sources.html" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head><body>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="dtree_syntax.html" title="Decision Tree Syntax Reference"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="annotation_sources.html" title="Annotation Sources"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Anfisa User Documentation v.0.7 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Filtering functions</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="filtering-functions">
<h1>Filtering functions<a class="headerlink" href="#filtering-functions" title="Permalink to this heading">¶</a></h1>
<section id="discussion">
<h2>Discussion<a class="headerlink" href="#discussion" title="Permalink to this heading">¶</a></h2>
<p>Functions are aggregated information items that can be used in filtration as well as filtering property. Difference between application of an enumerated property and application of a function is in parameters: the function requires proper settings for them.</p>
<p>Up to now all functions behave as multiset property: even if result is <code class="docutils literal notranslate"><span class="pre">True</span></code> value, there is no reason to keep <code class="docutils literal notranslate"><span class="pre">False</span></code> value of rest of variants in dataset.</p>
<p>The list and format of function parameters are specific for the function. Each parameter value must be data structure in JSON format, usually it means <em>string</em> or <em>int</em> value, but some complex functions require complex structures as parameters. The Front End application helps the user to fill it up in forms, however the formal definition of function call requires JSON-formatted parameters.</p>
<p>Since work with functions is a complex one, there might be additional requirements for Front End application to provide support of necessary &quot;short cuts&quot;:</p>
<ul class="simple">
<li><p>function environment should be used to set &quot;standard&quot; configurations of function parameters;</p></li>
<li><p>in cases when list of function values is expected (for example if value is single <code class="docutils literal notranslate"><span class="pre">True</span></code>), these values should be pre-selected in interface without extra user click</p></li>
</ul>
<p>Most part of currently available functions implement functionality dealing with zygosity properties of variants. See <a class="reference internal" href="zygosity.html"><span class="doc">Notes on Zygosity</span></a> for explanations</p>
<p>Examples are given in form of Python dialect used in <a class="reference internal" href="dtree_syntax.html"><span class="doc">Decision Tree Syntax Reference</span></a>.</p>
</section>
<section id="function-reference">
<h2>Function reference<a class="headerlink" href="#function-reference" title="Permalink to this heading">¶</a></h2>
<span class="target" id="generegion"></span><section id="index-0">
<span id="id1"></span><h3>GeneRegion()<a class="headerlink" href="#index-0" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p><strong>sub-type</strong>: <code class="docutils literal notranslate"><span class="pre">&quot;region&quot;</span></code></p>
<p><strong>Parameter</strong>:</p>
<blockquote>
<div><p><strong>locus</strong>, location <em>string</em></p>
</div></blockquote>
<p><strong>Values</strong>: <code class="docutils literal notranslate"><span class="pre">[&quot;True&quot;]</span></code></p>
</div></blockquote>
<p>Function allows the user to define simple string representation for the following options:</p>
<blockquote>
<div><ul class="simple">
<li><p>chromosome</p></li>
<li><p>position or diapason of positions</p></li>
<li><p><em>optional</em> gene or list of genes</p></li>
</ul>
</div></blockquote>
<p>These options are put into string with <code class="docutils literal notranslate"><span class="pre">':`</span></code> as separator. (Separator for list of genes is <code class="docutils literal notranslate"><span class="pre">','</span></code>).</p>
<p><strong>Examples</strong>:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GeneRegion</span><span class="p">(</span><span class="n">locus</span> <span class="o">=</span> <span class="s2">&quot;chr1:6424820&quot;</span><span class="p">)</span> <span class="ow">in</span> <span class="p">{</span><span class="kc">True</span><span class="p">}</span>
<span class="n">GeneRegion</span><span class="p">(</span><span class="s2">&quot;chr1:6424820-6424920&quot;</span><span class="p">)</span> <span class="ow">in</span> <span class="p">{</span><span class="kc">True</span><span class="p">}</span>
<span class="n">GeneRegion</span><span class="p">(</span><span class="s2">&quot;chr1::ESPN,HES2&quot;</span><span class="p">)</span> <span class="ow">in</span> <span class="p">{</span><span class="kc">True</span><span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<span class="target" id="inheritance-mode"></span></section>
<section id="index-1">
<span id="id2"></span><h3>Inheritance_mode()<a class="headerlink" href="#index-1" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p><strong>sub-type</strong>: <code class="docutils literal notranslate"><span class="pre">&quot;inheritance-z&quot;</span></code></p>
<p><strong>Parameters</strong>:</p>
<blockquote>
<div><p><strong>problem_group</strong>, <em>optional</em> <code class="docutils literal notranslate"><span class="pre">[</span></code> <em>list of</em> id for samples in case <code class="docutils literal notranslate"><span class="pre">]</span></code></p>
</div></blockquote>
<p><strong>Values</strong>:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">[&quot;Homozygous</span> <span class="pre">Recessive&quot;,</span> <span class="pre">&quot;X-linked&quot;,</span> <span class="pre">&quot;Autosomal</span> <span class="pre">Dominant&quot;,</span> <span class="pre">&quot;Compensational&quot;]</span></code></p>
</div></blockquote>
</div></blockquote>
<p>Function selects variants with <a class="reference internal" href="zygosity.html#standard-zygosity-scenarios"><span class="std std-ref">Standard Zygosity Scenarios</span></a> if problem group is defined.</p>
<p><strong>Examples</strong></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Inheritance_mode</span><span class="p">()</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">&quot;Homozygous Recessive&quot;</span><span class="p">,</span> <span class="s2">&quot;X-linked&quot;</span><span class="p">}</span>
<span class="n">Inheritance_mode</span><span class="p">(</span><span class="n">problem_group</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;bgm9001a1&quot;</span><span class="p">,</span> <span class="s2">&quot;bgm9001u2&quot;</span><span class="p">])</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">&quot;Compensational&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>Notes:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="zygosity.html#default-problem-group"><span class="std std-ref">Default problem group</span></a> is preset</p></li>
<li><p>function value <code class="docutils literal notranslate"><span class="pre">X-linked</span></code> is actual only if case includes a male sample</p></li>
</ul>
</div></blockquote>
<p>Facts useful for understanding</p>
<blockquote>
<div><ul class="simple">
<li><p>for fixed problem group variant sets of types <code class="docutils literal notranslate"><span class="pre">&quot;Homozygous</span> <span class="pre">Recessive&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;X-linked&quot;</span></code> never intersect; variants from chromosome X present in the first set only if there is no a male sample in case</p></li>
<li><p>for different problem groups variant sets of type <code class="docutils literal notranslate"><span class="pre">&quot;Autosomal</span> <span class="pre">Dominant&quot;</span></code> never intersect; the same is true for type <code class="docutils literal notranslate"><span class="pre">&quot;Compensational&quot;</span></code></p></li>
</ul>
</div></blockquote>
<span class="target" id="custom-inheritance"></span></section>
<section id="index-2">
<span id="id3"></span><h3>Custom_Inheritance()<a class="headerlink" href="#index-2" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p><strong>sub-type</strong>: <code class="docutils literal notranslate"><span class="pre">&quot;custom-inheritance-z&quot;</span></code></p>
<p><strong>Parameters</strong>:</p>
<blockquote>
<div><p><strong>scenario</strong>, <a class="reference internal" href="zygosity.html#zygosity-scenario"><span class="std std-ref">scenario</span></a> <em>structure</em></p>
</div></blockquote>
<p><strong>Values</strong>: <code class="docutils literal notranslate"><span class="pre">[&quot;True&quot;]</span></code></p>
</div></blockquote>
<p>The function selects variants by a fixed <a class="reference internal" href="zygosity.html#zygosity-scenario"><span class="std std-ref">Zygosity Scenario</span></a>.</p>
<p>In terms of functionality it is an extension of <a class="reference internal" href="#inheritance-mode"><span class="std std-ref">Inheritance_Mode()</span></a> function.</p>
<p><strong>Example</strong></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Custom_Inheritance(scenario =
    {“2”: [&quot;bgm9001a1&quot;, &quot;bgm9001u2&quot;], “1-0”: [&quot;bgm9001u1&quot;]}}) in {True}
</pre></div>
</div>
</div></blockquote>
<span class="target" id="compound-heterozygous"></span></section>
<section id="index-3">
<span id="id4"></span><h3>Compound_Heterozygous()<a class="headerlink" href="#index-3" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p><strong>sub-type</strong>: <code class="docutils literal notranslate"><span class="pre">&quot;comp-hets&quot;</span></code></p>
<p><strong>Parameters</strong>:</p>
<div class="line-block">
<div class="line"><strong>approx</strong>, <em>optional</em> <a class="reference internal" href="zygosity.html#gene-aproximations"><span class="std std-ref">gene approximation variant</span></a>, <em>string</em></div>
<div class="line"><strong>state</strong>, <em>optional</em> decision tree state label, <em>string</em></div>
</div>
<dl class="simple">
<dt><strong>Values</strong>:</dt><dd><p><em>list</em> equals to <strong>trio-variants</strong> environment property</p>
</dd>
</dl>
</div></blockquote>
<p>The function detects <a class="reference internal" href="zygosity.html#compound-heterozygous"><span class="std std-ref">compound heterozygous</span></a> variants for all trio presenting in the case of dataset. Function is available only if (at least one, usually one) trio is included in case, i.e. environment property <strong>trio-variants</strong> is nonempty.</p>
<p>Special notation: if proband is subject of trio, <code class="docutils literal notranslate"><span class="pre">&quot;Proband&quot;</span></code> is used as identifier of trio, otherwise trio is identified by id of its subject.</p>
<p>Default value for <strong>approx</strong> parameter is <code class="docutils literal notranslate"><span class="pre">&quot;transcript&quot;</span></code> for WS-datasets and <code class="docutils literal notranslate"><span class="pre">&quot;rough&quot;</span></code> for XL-datasets (only <code class="docutils literal notranslate"><span class="pre">&quot;rough&quot;</span></code> is available in XL-datasets).</p>
<p>The parameter <strong>state</strong> can be either <code class="docutils literal notranslate"><span class="pre">null</span></code> or value from <strong>labels</strong> environment property.</p>
<p>In common context <strong>labels</strong> is empty, and <strong>state</strong> parameter can be only <code class="docutils literal notranslate"><span class="pre">null</span></code> or undefined. So the detection procedure is run on the current state of variants filtering process.</p>
<p>Different situation can happen only in case of decision tree, and only if there is а definition of label in code <em>before</em> function evaluation. In this case detection procedure is run on labeled state of filtering process.</p>
<p><strong>Examples</strong></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Compound_Heterozygous</span><span class="p">()</span> <span class="ow">in</span> <span class="p">{</span><span class="n">Proband</span><span class="p">}</span>
<span class="n">Compound_Heterozygous</span><span class="p">(</span><span class="n">approx</span> <span class="o">=</span> <span class="s2">&quot;rough&quot;</span><span class="p">,</span> <span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;label1&quot;</span><span class="p">)</span> <span class="ow">in</span> <span class="p">{</span><span class="n">Proband</span><span class="p">,</span> <span class="n">bgm4321u3</span><span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<span class="target" id="compound-request"></span></section>
<section id="index-4">
<span id="id5"></span><h3>Compound_Request()<a class="headerlink" href="#index-4" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p><strong>sub-type</strong>: <code class="docutils literal notranslate"><span class="pre">&quot;comp-request&quot;</span></code></p>
<p><strong>Parameters</strong>:</p>
<div class="line-block">
<div class="line"><strong>request</strong>, <a class="reference internal" href="zygosity.html#compound-request"><span class="std std-ref">compound request</span></a> <em>structure</em></div>
<div class="line"><strong>approx</strong>, <em>optional</em> <a class="reference internal" href="zygosity.html#gene-aproximations"><span class="std std-ref">gene approximation variant</span></a>, <em>string</em></div>
<div class="line"><strong>state</strong>, <em>optional</em> decision tree state label, <em>string</em></div>
</div>
<p><strong>Values</strong>: <code class="docutils literal notranslate"><span class="pre">[&quot;True&quot;]</span></code></p>
</div></blockquote>
<p>The function evaluates <a class="reference internal" href="zygosity.html#compound-request"><span class="std std-ref">compound request</span></a>.</p>
<p>In terms of functionality it is a wide extension of <a class="reference internal" href="#compound-heterozygous"><span class="std std-ref">Compound_Heterozygous()</span></a> function</p>
<p>All comments on parameters <strong>approx</strong> and <strong>state</strong>, environment properties <strong>approx-modes</strong> and <strong>labels</strong> from function <a class="reference internal" href="#compound-heterozygous"><span class="std std-ref">Compound_Heterozygous()</span></a> are actual in this context.</p>
<p><strong>Example</strong></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Compound_Request(request = [
    [1, {“2-1”: [&quot;bgm9001a1&quot;, &quot;bgm9001u2&quot;], “0”: [&quot;bgm9001u1&quot;]],
    [1, {“2-1”: [&quot;bgm9001a1&quot;, &quot;bgm9001u1&quot;], “0”: [&quot;bgm9001u2&quot;]]]) in {True}
</pre></div>
</div>
</div></blockquote>
<p>The example demonstrates realization of Compound_Heterozygous() functionality for trio <code class="docutils literal notranslate"><span class="pre">[&quot;bgm9001a1&quot;,</span> <span class="pre">&quot;bgm9001u1&quot;,</span> <span class="pre">&quot;bgm9001u2&quot;]</span></code>.</p>
<p>The user interface provides an easy way to build any of <a class="reference internal" href="zygosity.html#standard-zygosity-scenarios"><span class="std std-ref">Standard Zygosity Scenarios</span></a> applied to <a class="reference internal" href="zygosity.html#default-problem-group"><span class="std std-ref">default problem group</span></a> of the case. Then the user can modify these scenarios to perform more complex conditions.</p>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Filtering functions</a><ul>
<li><a class="reference internal" href="#discussion">Discussion</a></li>
<li><a class="reference internal" href="#function-reference">Function reference</a><ul>
<li><a class="reference internal" href="#index-0">GeneRegion()</a></li>
<li><a class="reference internal" href="#index-1">Inheritance_mode()</a></li>
<li><a class="reference internal" href="#index-2">Custom_Inheritance()</a></li>
<li><a class="reference internal" href="#index-3">Compound_Heterozygous()</a></li>
<li><a class="reference internal" href="#index-4">Compound_Request()</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="annotation_sources.html"
                          title="previous chapter">Annotation Sources</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="dtree_syntax.html"
                          title="next chapter">Decision Tree Syntax Reference</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/func_ref.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="dtree_syntax.html" title="Decision Tree Syntax Reference"
             >next</a> |</li>
        <li class="right" >
          <a href="annotation_sources.html" title="Annotation Sources"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Anfisa User Documentation v.0.7 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Filtering functions</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Copyright (c) 2019-2022. Partners HealthCare and other members of Forome Association.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.1.1.
    </div>
  </body>
</html>