
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Filter refiner &#8212; Anfisa User Documentation v.0.7 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/pyramid.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Decision Tree" href="decision_tree.html" />
    <link rel="prev" title="Workspace" href="workspace.html" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head><body>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="decision_tree.html" title="Decision Tree"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="workspace.html" title="Workspace"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Anfisa User Documentation v.0.7 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Filter refiner</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="filter-refiner">
<h1>Filter refiner<a class="headerlink" href="#filter-refiner" title="Permalink to this heading">¶</a></h1>
<p>To start variations filtering by <em>Filter refiner</em> user should select <strong>Whole genome/exome</strong> and then
<strong>Explore data or build new filter</strong> option.
After this, the filter refiner window opens.</p>
<a class="reference internal image-reference" href="_images/filter-refiner.png"><img alt="Filter refiner main window" src="_images/filter-refiner.png" style="width: 800px;" /></a>
<section id="main-filter-refiner-window">
<h2>Main Filter refiner window<a class="headerlink" href="#main-filter-refiner-window" title="Permalink to this heading">¶</a></h2>
<p>The caption of the <strong>Filter Refiner</strong> window contains the set of controls.
The left one displays the work mode: <strong>Filter Refiner</strong>.
Next to it user can select and create filter presets.
Finally, user can create a derived dataset for filtered ones.</p>
</section>
<section id="filters">
<h2>Filters<a class="headerlink" href="#filters" title="Permalink to this heading">¶</a></h2>
<p>Below the caption string there is a list of available filters.</p>
<p>The Anfisa provides for the user the large set of available filters for almost all
variation properties in initial VCF file.
By clicking on the each filter user can see the filter settings and details.</p>
<p>All list of available filters with descriptions are available on the separate page
(not ready now, to be added in future).</p>
<p>By operation mode all filters can be divided into two groups:</p>
<ul class="simple">
<li><p>Categorical</p></li>
<li><p>Numeric</p></li>
</ul>
<section id="categorical-filters">
<h3>Categorical filters<a class="headerlink" href="#categorical-filters" title="Permalink to this heading">¶</a></h3>
<p>Categorical data entries are presented by list of filtering categories.
On the filter details page AnFiSA shows histogram or pie chart of categories distribution.
User can select/deselect categories from the list.</p>
<a class="reference internal image-reference" href="_images/filter-refinement_filter-zygosity.png"><img alt="Categorical filter example" src="_images/filter-refinement_filter-zygosity.png" style="width: 800px;" /></a>
<p>Only variants from selected categories will go to subsequent analysis.
The <strong>Not Mode</strong> inverts the variations selection.</p>
</section>
<section id="numeric-filters">
<h3>Numeric filters<a class="headerlink" href="#numeric-filters" title="Permalink to this heading">¶</a></h3>
<p>The numeric filters allows user to filter variations by the value of some numerical parameter.
On the filter details page AnFiSA shows histogram of value distribution.
The distribution histogram is displayed in linear or logarithmic scale.
The display mode is pre-configured for filter and can’t be changed by user.</p>
<a class="reference internal image-reference" href="_images/filter-refinement_filter-AF.png"><img alt="Numeric filter example" src="_images/filter-refinement_filter-AF.png" style="width: 800px;" /></a>
<p>User can select value range to pass visually on the histogram or by typing the numeric values,
or by clicking on the histogram.
The buttons “&lt;” and “&lt;=” next to data entry edits controls incluson/exclusion of the border values.</p>
<p>The checkbox “<strong>Limited range</strong>” next to range selection forces user to choose parameter boundaries
only inside the real parameter range for current data set.
This option is select by default.
For individual dataset analysis there is no sense in unchecking this option.
However, for building preset to process different data sets, user can unselect this checkbox
and have more flexibility in region selection.</p>
<p>Each numeric filter passes variations with the parameter value <em>inside</em> the specified range.
In <strong>Filter Refiner</strong> mode there is no way to select variations <em>outside</em> the selected range.
To do this, one can use <strong>Decision tree</strong>.</p>
</section>
</section>
<section id="filter-chain-creation">
<h2>Filter chain creation<a class="headerlink" href="#filter-chain-creation" title="Permalink to this heading">¶</a></h2>
<p>After setting filtering options for the filter user applies it by pressing the <strong>Add condition</strong> button
on th filter details page.
After pressing this button, new filter will be added to the list of filters on the right panel <strong>Results</strong>.</p>
<p>User can continue filtering process by adding new filters to the list.
Anfisa allows to apply to a dataset combinations of filters,
and each additional filter operates on the result output of the previous filtering.
The consequent application of different filters results only in conjunctions of the conditions.</p>
<p>On the <strong>Results</strong> panel user can see all active filters, view and change filter settings.
After filter settings change user need to press <strong>Save changes</strong> button to apply it.
User can continue refinement process and add new filter to narrow the variations set.</p>
<p>Also AnFiSA displays the number of variants passing filter chain next to the panel caption:
“<em>Variants: 837</em>”</p>
<a class="reference internal image-reference" href="_images/filter-refinement_filter-series.png"><img alt="Filter list" src="_images/filter-refinement_filter-series.png" style="width: 800px;" /></a>
<p>User can delete an active filter by selecting pit and pressing the “Garbage bin” icon
on the right of the <strong>Results</strong> panel.
Or user can delete al filters by pressing the <strong>Clear All</strong> button.</p>
<section id="filtering-chain-functioning-notes">
<h3>Filtering chain functioning notes<a class="headerlink" href="#filtering-chain-functioning-notes" title="Permalink to this heading">¶</a></h3>
<p>Each new filter is applied to the <strong>already filtered</strong> variations set.
Therefore adding each new filter will lead to narrowing of the variation set.
To achieve more flexible filtering one should use <strong>Decision tree</strong> capability.</p>
<p>All charts in the filter details panel also displays the statistics for variations filed by previous filters,
no for original variations set.</p>
<p>All “regular” filters available in the filter refinement page are commutative:
they can be applied in any order and will produce the same result.
This is the requirement of all OLAP data analysis platforms.
Support of non-commutative operations is much more complicated and described in the separate section
“Notes on Zygosity”</p>
</section>
</section>
<section id="presets">
<h2>Presets<a class="headerlink" href="#presets" title="Permalink to this heading">¶</a></h2>
<p>User can save a created set of filters by pressing the <strong>Create preset</strong> button.
User should provide the preset name and optionally assign a solution pack – the group of presets.
To load a preset, user just needs to select a preset in a combo-box on the <strong>Filter Refiner</strong> caption.</p>
</section>
<section id="viewing-and-saving-filtration-result">
<h2>Viewing and saving filtration result<a class="headerlink" href="#viewing-and-saving-filtration-result" title="Permalink to this heading">¶</a></h2>
<p>At the each step of data processing user can view the filtering results by pressing the
<strong>View variants</strong> button next to <strong>Results</strong> panel caption.
AnFiSA displays the variations table in a new modal window.
The button is active only if there are
not more than 10000 variations in results.</p>
<p>The variation view window is in fact a limited version of the variation view table,
available for secondary datasets.
It is designed to be lightweight and fast, therefore it has only a limited set of functions.</p>
<a class="reference internal image-reference" href="_images/filter-refinement_view-variants.png"><img alt="View variants after filtering" src="_images/filter-refinement_view-variants.png" style="width: 800px;" /></a>
<p>The left part of the window contains table with all variations and genes, affected by the variation.</p>
<p>The combobox on top of the variations table defines the variations view mode:</p>
<ul class="simple">
<li><p><em>Samples-25</em> - display 25 randomly selected variations. Selected by default</p></li>
<li><p><em>Full list</em> - display all variations. Available only is filtered set contains less than 300 variations.</p></li>
</ul>
<p>The right part of the window displays the detailed data for selected variations.
The variation properties are grouped by type in the collapsed boxes. User can expand any box by clicking on it.</p>
</section>
<section id="creating-a-derived-data-set">
<h2>Creating a derived data set<a class="headerlink" href="#creating-a-derived-data-set" title="Permalink to this heading">¶</a></h2>
<p>User can save the resulting set of the variations as a derived dataset by pressing the <strong>Create Derived DS</strong> button
and providing dataset name. The derived datasets are described in the corresponding section of the manual.</p>
<a class="reference internal image-reference" href="_images/filter-refinement_create-derived.png"><img alt="Derived dataset creation" src="_images/filter-refinement_create-derived.png" style="width: 800px;" /></a>
<p>After creating a derived dataset user can open derived dataset, or continue refining data.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Filter refiner</a><ul>
<li><a class="reference internal" href="#main-filter-refiner-window">Main Filter refiner window</a></li>
<li><a class="reference internal" href="#filters">Filters</a><ul>
<li><a class="reference internal" href="#categorical-filters">Categorical filters</a></li>
<li><a class="reference internal" href="#numeric-filters">Numeric filters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#filter-chain-creation">Filter chain creation</a><ul>
<li><a class="reference internal" href="#filtering-chain-functioning-notes">Filtering chain functioning notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#presets">Presets</a></li>
<li><a class="reference internal" href="#viewing-and-saving-filtration-result">Viewing and saving filtration result</a></li>
<li><a class="reference internal" href="#creating-a-derived-data-set">Creating a derived data set</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="workspace.html"
                          title="previous chapter">Workspace</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="decision_tree.html"
                          title="next chapter">Decision Tree</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/filter_refiner.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="decision_tree.html" title="Decision Tree"
             >next</a> |</li>
        <li class="right" >
          <a href="workspace.html" title="Workspace"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Anfisa User Documentation v.0.7 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Filter refiner</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Copyright (c) 2019-2022. Partners HealthCare and other members of Forome Association.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.1.1.
    </div>
  </body>
</html>